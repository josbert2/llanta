"use strict";if(function(o){o.fn.animateCSS=function(t,i,n){return this.each(function(){var e=o(this);i&&"function"!=typeof i||(n=i,i=0);setTimeout(function(){e.addClass("animated "+t),"hidden"==e.css("visibility")&&e.css({visibility:"visible"}),e.is(":hidden")&&e.show(),e.bind("webkitAnimationEnd animationend oAnimationEnd",function(){"function"==typeof n&&n.call(this)})},i)})}}(jQuery),$("html").easeScroll(),$(".owl-carousel").owlCarousel({loop:!0,margin:30,nav:!0,dots:!0,navText:['<i class="ion ion-md-arrow-dropleft"></i>','<i class="ion ion-md-arrow-dropright"></i>'],responsive:{0:{items:1},600:{items:3},1000:{items:5}}}),$(".main-slider .tp-banner").length){var MainSlider=$(".main-slider"),strtHeight=MainSlider.attr("data-start-height"),slideOverlay="'"+MainSlider.attr("data-slide-overlay")+"'";$(".main-slider .tp-banner").show().revolution({dottedOverlay:slideOverlay,delay:1e4,startwidth:1200,startheight:strtHeight,hideThumbs:600,thumbWidth:80,thumbHeight:50,thumbAmount:5,navigationType:"bullet",navigationArrows:"0",navigationStyle:"preview4",touchenabled:"on",onHoverStop:"off",swipe_velocity:.7,swipe_min_touches:1,swipe_max_touches:1,drag_block_vertical:!1,parallax:"mouse",parallaxBgFreeze:"on",parallaxLevels:[7,4,3,2,5,4,3,2,1,0],keyboardNavigation:"off",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:40,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:20,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:20,shadow:0,fullWidth:"on",fullScreen:"off",spinner:"spinner4",stopLoop:"off",stopAfterLoops:-1,stopAtSlide:-1,shuffle:"off",autoHeight:"off",forceFullWidth:"on",hideThumbsOnMobile:"on",hideNavDelayOnMobile:1500,hideBulletsOnMobile:"on",hideArrowsOnMobile:"on",hideThumbsUnderResolution:0,hideSliderAtLimit:0,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,startWithSlide:0,videoJsPath:"",fullScreenOffsetContainer:""})}var mn=$(".main-header");$(window).scroll(function(){250<$(this).scrollTop()&&$(this).scrollTop()<300?mn.addClass("ty"):300<$(this).scrollTop()?(mn.addClass("fixed"),mn.addClass("no_ty")):(mn.removeClass("fixed"),mn.removeClass("ty"),mn.removeClass("no_ty"))}),function(){var i,e,n,o,s,l,a,t;(i=document.querySelector(".burger"),e=document.querySelector(".close-btn"),n=document.querySelector(".menu"),o=document.querySelector(".menu__list"),s=document.querySelector(".menu__brand"),l=document.querySelectorAll(".menu__item"),a=!1,t=function(){if(a){n.classList.remove("menu--active"),o.classList.remove("menu__list--active"),s.classList.remove("menu__brand--active"),i.classList.remove("burger--close");for(e=0,t=l.length;e<t;e++)l[e].classList.remove("menu__item--active");a=!1}else{n.classList.add("menu--active"),o.classList.add("menu__list--active"),s.classList.add("menu__brand--active"),i.classList.add("burger--close");for(var e=0,t=l.length;e<t;e++)l[e].classList.add("menu__item--active");a=!0}},{init:function(){i.addEventListener("click",t,!1),e.addEventListener("click",t,!1)}}).init()}();var lastId,topMenu=$("#main-nav"),topMenuHeight=topMenu.outerHeight()+15,menuItems=topMenu.find("a"),scrollItems=menuItems.map(function(){var e=$($(this).attr("href"));if(e.length)return e});menuItems.click(function(e){var t=$(this).attr("href"),i="#"===t?0:$(t).offset().top-topMenuHeight+1;$("html, body").stop().animate({scrollTop:i},300),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+topMenuHeight,t=scrollItems.map(function(){if($(this).offset().top<e)return this}),i=(t=t[t.length-1])&&t.length?t[0].id:"";lastId!==i&&(lastId=i,menuItems.parent().removeClass("active").end().filter("[href='#"+i+"']").parent().addClass("active"))}),function(i){i.fn.sameHeight=function(){var t=[];this.each(function(){var e=i(this).height();t.push(e)});var e=Math.max.apply(null,t);console.log(t,e),this.each(function(){i(this).height(e)})}}(jQuery),$("select").each(function(){var t=$(this),e=$(this).children("option").length;t.addClass("select-hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select-styled"></div>');var i=t.next("div.select-styled");i.text(t.children("option").eq(0).text());for(var n=$("<ul />",{class:"select-options"}).insertAfter(i),o=0;o<e;o++)$("<li />",{text:t.children("option").eq(o).text(),rel:t.children("option").eq(o).val()}).appendTo(n);var s=n.children("li");i.click(function(e){e.stopPropagation(),$("div.select-styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select-options").hide()}),$(this).toggleClass("active").next("ul.select-options").toggle()}),s.click(function(e){e.stopPropagation(),i.text($(this).text()).removeClass("active"),t.val($(this).attr("rel")),n.hide()}),$(document).click(function(){i.removeClass("active"),n.hide()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiYW5pbWF0ZS5qcyIsIm1vZGFsLmpzIiwibmF2QWN0aXZlLmpzIiwic2FtZUhlaWdodC5qcyIsInNlbGVjdC5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJhbmltYXRlQ1NTIiwiZWZmZWN0IiwiZGVsYXkiLCJjYWxsYmFjayIsInRoaXMiLCJlYWNoIiwiJHRoaXMiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJjc3MiLCJ2aXNpYmlsaXR5IiwiaXMiLCJzaG93IiwiYmluZCIsImNhbGwiLCJqUXVlcnkiLCJlYXNlU2Nyb2xsIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwibWFyZ2luIiwibmF2IiwiZG90cyIsIm5hdlRleHQiLCJyZXNwb25zaXZlIiwiMCIsIml0ZW1zIiwiNjAwIiwiMTAwMCIsImxlbmd0aCIsIk1haW5TbGlkZXIiLCJzdHJ0SGVpZ2h0IiwiYXR0ciIsInNsaWRlT3ZlcmxheSIsInJldm9sdXRpb24iLCJkb3R0ZWRPdmVybGF5Iiwic3RhcnR3aWR0aCIsInN0YXJ0aGVpZ2h0IiwiaGlkZVRodW1icyIsInRodW1iV2lkdGgiLCJ0aHVtYkhlaWdodCIsInRodW1iQW1vdW50IiwibmF2aWdhdGlvblR5cGUiLCJuYXZpZ2F0aW9uQXJyb3dzIiwibmF2aWdhdGlvblN0eWxlIiwidG91Y2hlbmFibGVkIiwib25Ib3ZlclN0b3AiLCJzd2lwZV92ZWxvY2l0eSIsInN3aXBlX21pbl90b3VjaGVzIiwic3dpcGVfbWF4X3RvdWNoZXMiLCJkcmFnX2Jsb2NrX3ZlcnRpY2FsIiwicGFyYWxsYXgiLCJwYXJhbGxheEJnRnJlZXplIiwicGFyYWxsYXhMZXZlbHMiLCJrZXlib2FyZE5hdmlnYXRpb24iLCJuYXZpZ2F0aW9uSEFsaWduIiwibmF2aWdhdGlvblZBbGlnbiIsIm5hdmlnYXRpb25IT2Zmc2V0IiwibmF2aWdhdGlvblZPZmZzZXQiLCJzb2xvQXJyb3dMZWZ0SGFsaWduIiwic29sb0Fycm93TGVmdFZhbGlnbiIsInNvbG9BcnJvd0xlZnRIT2Zmc2V0Iiwic29sb0Fycm93TGVmdFZPZmZzZXQiLCJzb2xvQXJyb3dSaWdodEhhbGlnbiIsInNvbG9BcnJvd1JpZ2h0VmFsaWduIiwic29sb0Fycm93UmlnaHRIT2Zmc2V0Iiwic29sb0Fycm93UmlnaHRWT2Zmc2V0Iiwic2hhZG93IiwiZnVsbFdpZHRoIiwiZnVsbFNjcmVlbiIsInNwaW5uZXIiLCJzdG9wTG9vcCIsInN0b3BBZnRlckxvb3BzIiwic3RvcEF0U2xpZGUiLCJzaHVmZmxlIiwiYXV0b0hlaWdodCIsImZvcmNlRnVsbFdpZHRoIiwiaGlkZVRodW1ic09uTW9iaWxlIiwiaGlkZU5hdkRlbGF5T25Nb2JpbGUiLCJoaWRlQnVsbGV0c09uTW9iaWxlIiwiaGlkZUFycm93c09uTW9iaWxlIiwiaGlkZVRodW1ic1VuZGVyUmVzb2x1dGlvbiIsImhpZGVTbGlkZXJBdExpbWl0IiwiaGlkZUNhcHRpb25BdExpbWl0IiwiaGlkZUFsbENhcHRpb25BdExpbG1pdCIsInN0YXJ0V2l0aFNsaWRlIiwidmlkZW9Kc1BhdGgiLCJmdWxsU2NyZWVuT2Zmc2V0Q29udGFpbmVyIiwibW4iLCJ3aW5kb3ciLCJzY3JvbGwiLCJzY3JvbGxUb3AiLCJyZW1vdmVDbGFzcyIsImJ1cmdlciIsImNsb3NlX2J0biIsIm1lbnUiLCJtZW51TGlzdCIsImJyYW5kIiwibWVudUl0ZW1zIiwiYWN0aXZlIiwidG9nZ2xlTWVudSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpIiwiaWkiLCJhZGQiLCJpbml0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhc3RJZCIsInRvcE1lbnUiLCJ0b3BNZW51SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJmaW5kIiwic2Nyb2xsSXRlbXMiLCJtYXAiLCJpdGVtIiwiY2xpY2siLCJlIiwiaHJlZiIsIm9mZnNldFRvcCIsIm9mZnNldCIsInRvcCIsInN0b3AiLCJhbmltYXRlIiwicHJldmVudERlZmF1bHQiLCJmcm9tVG9wIiwiY3VyIiwiaWQiLCJwYXJlbnQiLCJlbmQiLCJmaWx0ZXIiLCJzYW1lSGVpZ2h0IiwiaGVpZ2h0cyIsImhlaWdodCIsInB1c2giLCJtYXhIZWlnaHQiLCJNYXRoIiwibWF4IiwiYXBwbHkiLCJjb25zb2xlIiwibG9nIiwibnVtYmVyT2ZPcHRpb25zIiwiY2hpbGRyZW4iLCJ3cmFwIiwiYWZ0ZXIiLCIkc3R5bGVkU2VsZWN0IiwibmV4dCIsInRleHQiLCJlcSIsIiRsaXN0IiwiY2xhc3MiLCJpbnNlcnRBZnRlciIsInJlbCIsInZhbCIsImFwcGVuZFRvIiwiJGxpc3RJdGVtcyIsInN0b3BQcm9wYWdhdGlvbiIsIm5vdCIsImhpZGUiLCJ0b2dnbGVDbGFzcyIsInRvZ2dsZSJdLCJtYXBwaW5ncyI6ImFBdUJBLEdDdkJBLFNBQUFBLEdBRUFBLEVBQUFDLEdBQUFDLFdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FHQSxPQUFBQyxLQUFBQyxLQUFBLFdBR0EsSUFBQUMsRUFBQVIsRUFBQU0sTUFHQUYsR0FBQSxtQkFBQUEsSUFHQUMsRUFBQUQsRUFHQUEsRUFBQSxHQUlBSyxXQUFBLFdBR0FELEVBQUFFLFNBQUEsWUFBQVAsR0FHQSxVQUFBSyxFQUFBRyxJQUFBLGVBR0FILEVBQUFHLEtBQ0FDLFdBQUEsWUFNQUosRUFBQUssR0FBQSxZQUdBTCxFQUFBTSxPQUtBTixFQUFBTyxLQUFBLGdEQUFBLFdBR0EsbUJBQUFWLEdBR0FBLEVBQUFXLEtBQUFWLFNBT0FGLE1BMURBLENBZ0VBYSxRRDlEQWpCLEVBQUEsUUFBQWtCLGFBRUFsQixFQUFBLGlCQUFBbUIsYUFDQUMsTUFBQSxFQUNBQyxPQUFBLEdBQ0FDLEtBQUEsRUFDQUMsTUFBQSxFQUNBQyxTQUFBLDRDQUFBLDhDQUNBQyxZQUNBQyxHQUNBQyxNQUFBLEdBRUFDLEtBQ0FELE1BQUEsR0FFQUUsTUFDQUYsTUFBQSxNQUtBM0IsRUFBQSwyQkFBQThCLE9BQUEsQ0FFQSxJQUFBQyxXQUFBL0IsRUFBQSxnQkFDQWdDLFdBQUFELFdBQUFFLEtBQUEscUJBQ0FD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QTNJLEVBQUE0SSxNQUFBLHFDQUVBLElBQUFDLEVBQUE3SSxFQUFBOEksS0FBQSxxQkFDQUQsRUFBQUUsS0FBQS9JLEVBQUEwSSxTQUFBLFVBQUFNLEdBQUEsR0FBQUQsUUFNQSxJQUpBLElBQUFFLEVBQUF6SixFQUFBLFVBQ0EwSixNQUFBLG1CQUNBQyxZQUFBTixHQUVBMUMsRUFBQSxFQUFBQSxFQUFBc0MsRUFBQXRDLElBQ0EzRyxFQUFBLFVBQ0F1SixLQUFBL0ksRUFBQTBJLFNBQUEsVUFBQU0sR0FBQTdDLEdBQUE0QyxPQUNBSyxJQUFBcEosRUFBQTBJLFNBQUEsVUFBQU0sR0FBQTdDLEdBQUFrRCxRQUNBQyxTQUFBTCxHQUdBLElBQUFNLEVBQUFOLEVBQUFQLFNBQUEsTUFFQUcsRUFBQTdCLE1BQUEsU0FBQUMsR0FDQUEsRUFBQXVDLGtCQUNBaEssRUFBQSw0QkFBQWlLLElBQUEzSixNQUFBQyxLQUFBLFdBQ0FQLEVBQUFNLE1BQUF1RixZQUFBLFVBQUF5RCxLQUFBLHFCQUFBWSxTQUVBbEssRUFBQU0sTUFBQTZKLFlBQUEsVUFBQWIsS0FBQSxxQkFBQWMsV0FHQUwsRUFBQXZDLE1BQUEsU0FBQUMsR0FDQUEsRUFBQXVDLGtCQUNBWCxFQUFBRSxLQUFBdkosRUFBQU0sTUFBQWlKLFFBQUExRCxZQUFBLFVBQ0FyRixFQUFBcUosSUFBQTdKLEVBQUFNLE1BQUEyQixLQUFBLFFBQ0F3SCxFQUFBUyxTQUlBbEssRUFBQXNHLFVBQUFrQixNQUFBLFdBQ0E2QixFQUFBeEQsWUFBQSxVQUNBNEQsRUFBQVMiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuJChcImh0bWxcIikuZWFzZVNjcm9sbCgpO1xyXG5cclxuJCgnLm93bC1jYXJvdXNlbCcpLm93bENhcm91c2VsKHtcclxuICAgIGxvb3A6dHJ1ZSxcclxuICAgIG1hcmdpbjozMCxcclxuICAgIG5hdjp0cnVlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIG5hdlRleHQ6IFsnPGkgY2xhc3M9XCJpb24gaW9uLW1kLWFycm93LWRyb3BsZWZ0XCI+PC9pPicsJzxpIGNsYXNzPVwiaW9uIGlvbi1tZC1hcnJvdy1kcm9wcmlnaHRcIj48L2k+J10sXHJcbiAgICByZXNwb25zaXZlOntcclxuICAgICAgICAwOntcclxuICAgICAgICAgICAgaXRlbXM6MVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgNjAwOntcclxuICAgICAgICAgICAgaXRlbXM6M1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgMTAwMDp7XHJcbiAgICAgICAgICAgIGl0ZW1zOjVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG4gaWYgKCQoJy5tYWluLXNsaWRlciAudHAtYmFubmVyJykubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgTWFpblNsaWRlciA9ICQoJy5tYWluLXNsaWRlcicpO1xyXG4gICAgICAgICAgICB2YXIgc3RydEhlaWdodCA9IE1haW5TbGlkZXIuYXR0cignZGF0YS1zdGFydC1oZWlnaHQnKTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlT3ZlcmxheSA9IFwiJ1wiICsgTWFpblNsaWRlci5hdHRyKCdkYXRhLXNsaWRlLW92ZXJsYXknKSArIFwiJ1wiO1xyXG5cclxuICAgICAgICAgICAgJCgnLm1haW4tc2xpZGVyIC50cC1iYW5uZXInKS5zaG93KCkucmV2b2x1dGlvbih7XHJcbiAgICAgICAgICAgICAgICBkb3R0ZWRPdmVybGF5OiBzbGlkZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICBkZWxheTogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICBzdGFydHdpZHRoOiAxMjAwLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRoZWlnaHQ6IHN0cnRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBoaWRlVGh1bWJzOiA2MDAsXHJcblxyXG4gICAgICAgICAgICAgICAgdGh1bWJXaWR0aDogODAsXHJcbiAgICAgICAgICAgICAgICB0aHVtYkhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICB0aHVtYkFtb3VudDogNSxcclxuXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogXCJidWxsZXRcIixcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25BcnJvd3M6IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0eWxlOiBcInByZXZpZXc0XCIsXHJcblxyXG4gICAgICAgICAgICAgICAgdG91Y2hlbmFibGVkOiBcIm9uXCIsXHJcbiAgICAgICAgICAgICAgICBvbkhvdmVyU3RvcDogXCJvZmZcIixcclxuXHJcbiAgICAgICAgICAgICAgICBzd2lwZV92ZWxvY2l0eTogMC43LFxyXG4gICAgICAgICAgICAgICAgc3dpcGVfbWluX3RvdWNoZXM6IDEsXHJcbiAgICAgICAgICAgICAgICBzd2lwZV9tYXhfdG91Y2hlczogMSxcclxuICAgICAgICAgICAgICAgIGRyYWdfYmxvY2tfdmVydGljYWw6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgICAgIHBhcmFsbGF4OiBcIm1vdXNlXCIsXHJcbiAgICAgICAgICAgICAgICBwYXJhbGxheEJnRnJlZXplOiBcIm9uXCIsXHJcbiAgICAgICAgICAgICAgICBwYXJhbGxheExldmVsczogWzcsIDQsIDMsIDIsIDUsIDQsIDMsIDIsIDEsIDBdLFxyXG5cclxuICAgICAgICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogXCJvZmZcIixcclxuXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblZBbGlnbjogXCJib3R0b21cIixcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IT2Zmc2V0OiAwLFxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblZPZmZzZXQ6IDQwLFxyXG5cclxuICAgICAgICAgICAgICAgIHNvbG9BcnJvd0xlZnRIYWxpZ246IFwibGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgc29sb0Fycm93TGVmdFZhbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIHNvbG9BcnJvd0xlZnRIT2Zmc2V0OiAyMCxcclxuICAgICAgICAgICAgICAgIHNvbG9BcnJvd0xlZnRWT2Zmc2V0OiAyMCxcclxuXHJcbiAgICAgICAgICAgICAgICBzb2xvQXJyb3dSaWdodEhhbGlnbjogXCJyaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgc29sb0Fycm93UmlnaHRWYWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBzb2xvQXJyb3dSaWdodEhPZmZzZXQ6IDIwLFxyXG4gICAgICAgICAgICAgICAgc29sb0Fycm93UmlnaHRWT2Zmc2V0OiAyMCxcclxuXHJcbiAgICAgICAgICAgICAgICBzaGFkb3c6IDAsXHJcbiAgICAgICAgICAgICAgICBmdWxsV2lkdGg6IFwib25cIixcclxuICAgICAgICAgICAgICAgIGZ1bGxTY3JlZW46IFwib2ZmXCIsXHJcblxyXG4gICAgICAgICAgICAgICAgc3Bpbm5lcjogXCJzcGlubmVyNFwiLFxyXG5cclxuICAgICAgICAgICAgICAgIHN0b3BMb29wOiBcIm9mZlwiLFxyXG4gICAgICAgICAgICAgICAgc3RvcEFmdGVyTG9vcHM6IC0xLFxyXG4gICAgICAgICAgICAgICAgc3RvcEF0U2xpZGU6IC0xLFxyXG5cclxuICAgICAgICAgICAgICAgIHNodWZmbGU6IFwib2ZmXCIsXHJcblxyXG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodDogXCJvZmZcIixcclxuICAgICAgICAgICAgICAgIGZvcmNlRnVsbFdpZHRoOiBcIm9uXCIsXHJcblxyXG4gICAgICAgICAgICAgICAgaGlkZVRodW1ic09uTW9iaWxlOiBcIm9uXCIsXHJcbiAgICAgICAgICAgICAgICBoaWRlTmF2RGVsYXlPbk1vYmlsZTogMTUwMCxcclxuICAgICAgICAgICAgICAgIGhpZGVCdWxsZXRzT25Nb2JpbGU6IFwib25cIixcclxuICAgICAgICAgICAgICAgIGhpZGVBcnJvd3NPbk1vYmlsZTogXCJvblwiLFxyXG4gICAgICAgICAgICAgICAgaGlkZVRodW1ic1VuZGVyUmVzb2x1dGlvbjogMCxcclxuXHJcbiAgICAgICAgICAgICAgICBoaWRlU2xpZGVyQXRMaW1pdDogMCxcclxuICAgICAgICAgICAgICAgIGhpZGVDYXB0aW9uQXRMaW1pdDogMCxcclxuICAgICAgICAgICAgICAgIGhpZGVBbGxDYXB0aW9uQXRMaWxtaXQ6IDAsXHJcbiAgICAgICAgICAgICAgICBzdGFydFdpdGhTbGlkZTogMCxcclxuICAgICAgICAgICAgICAgIHZpZGVvSnNQYXRoOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgZnVsbFNjcmVlbk9mZnNldENvbnRhaW5lcjogXCJcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbnZhciAgbW4gPSAkKFwiLm1haW4taGVhZGVyXCIpO1xyXG5cclxuXHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XHJcbiAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAyNTAgJiYgJCh0aGlzKS5zY3JvbGxUb3AoKSA8IDMwMCkge1xyXG4gICAgIG1uLmFkZENsYXNzKFwidHlcIik7XHJcbiAgfWVsc2V7XHJcbiAgICAgIGlmKCAkKHRoaXMpLnNjcm9sbFRvcCgpID4gMzAwKSB7XHJcbiAgICAgICAgbW4uYWRkQ2xhc3MoXCJmaXhlZFwiKTtcclxuICAgICAgICBtbi5hZGRDbGFzcyhcIm5vX3R5XCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1uLnJlbW92ZUNsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgICAgbW4ucmVtb3ZlQ2xhc3MoXCJ0eVwiKTtcclxuICAgICAgICBtbi5yZW1vdmVDbGFzcyhcIm5vX3R5XCIpO1xyXG4gICAgICB9XHJcbiAgfVxyXG59KTsiLCIoZnVuY3Rpb24gKCQpIHtcclxuXHJcbiAgICAkLmZuLmFuaW1hdGVDU1MgPSBmdW5jdGlvbiAoZWZmZWN0LCBkZWxheSwgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoaXMgdG8gbWFpbnRhaW4gY2hhaW5hYmlsaXR5XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWNoZSAkKHRoaXMpIGZvciBzcGVlZFxyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGVsYXkgZXhpc3RzIG9yIGlmIGl0J3MgYSBjYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAoIWRlbGF5IHx8IHR5cGVvZiBkZWxheSA9PSAnZnVuY3Rpb24nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIGNhbGxiYWNrLCBtb3ZlIGl0IHRvIGNhbGxiYWNrIHNvIHdlIGNhbiBjYWxsIGl0IGxhdGVyXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGRlbGF5O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZGVsYXkgdG8gMCBmb3IgdGhlIHNldFRpbWVvdXRcclxuICAgICAgICAgICAgICAgIGRlbGF5ID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3RhcnQgYSBjb3VudGVyIHNvIHdlIGNhbiBkZWxheSB0aGUgYW5pbWF0aW9uIGlmIHJlcXVpcmVkXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGFuaW1hdGlvbiBlZmZlY3Qgd2l0aCBjbGFzc2VzXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYW5pbWF0ZWQgJyArIGVmZmVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVsZW1lbnIgaGFzIGJlZW4gaGlkZGVuIHRvIHN0YXJ0IHdpdGhcclxuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5jc3MoJ3Zpc2liaWxpdHknKSA9PSAnaGlkZGVuJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBoYXMsIHNob3cgaXQgKGFmdGVyIHRoZSBjbGFzcyBoYXMgYmVlbiBhZGRlZClcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBoaWRkZW5cclxuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5pcygnOmhpZGRlbicpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgaXRcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5zaG93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEV2ZW50IHRyaWdnZXJlZCB3aGVuIHRoZSBhbmltYXRpb24gaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5iaW5kKCd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kIG9BbmltYXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIGNhbGxiYWNrIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGVjaWZ5IHRoZSBkZWxheVxyXG4gICAgICAgICAgICB9LCBkZWxheSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG59KShqUXVlcnkpOyIsIihmdW5jdGlvbigpIHtcclxuICBcclxuICB2YXIgTWVudSA9IChmdW5jdGlvbigpIHtcclxuICAgIHZhciBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyJyk7XHJcbiAgICB2YXIgY2xvc2VfYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpO1xyXG4gICAgdmFyIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpO1xyXG4gICAgdmFyIG1lbnVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2xpc3QnKTtcclxuICAgIHZhciBicmFuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19icmFuZCcpO1xyXG4gICAgdmFyIG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51X19pdGVtJyk7XHJcbiAgICBcclxuICAgIHZhciBhY3RpdmUgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgdmFyIHRvZ2dsZU1lbnUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCFhY3RpdmUpIHtcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ21lbnUtLWFjdGl2ZScpO1xyXG4gICAgICAgIG1lbnVMaXN0LmNsYXNzTGlzdC5hZGQoJ21lbnVfX2xpc3QtLWFjdGl2ZScpO1xyXG4gICAgICAgIGJyYW5kLmNsYXNzTGlzdC5hZGQoJ21lbnVfX2JyYW5kLS1hY3RpdmUnKTtcclxuICAgICAgICBidXJnZXIuY2xhc3NMaXN0LmFkZCgnYnVyZ2VyLS1jbG9zZScpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG1lbnVJdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICBtZW51SXRlbXNbaV0uY2xhc3NMaXN0LmFkZCgnbWVudV9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LS1hY3RpdmUnKTtcclxuICAgICAgICBtZW51TGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdtZW51X19saXN0LS1hY3RpdmUnKTtcclxuICAgICAgICBicmFuZC5jbGFzc0xpc3QucmVtb3ZlKCdtZW51X19icmFuZC0tYWN0aXZlJyk7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2J1cmdlci0tY2xvc2UnKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBtZW51SXRlbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgbWVudUl0ZW1zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnVfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGJpbmRBY3Rpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUsIGZhbHNlKTtcclxuICAgICAgY2xvc2VfYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlTWVudSwgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgYmluZEFjdGlvbnMoKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGluaXQ6IGluaXRcclxuICAgIH07XHJcbiAgICBcclxuICB9KCkpO1xyXG4gIFxyXG4gIE1lbnUuaW5pdCgpO1xyXG4gIFxyXG59KCkpOyIsIi8vIENhY2hlIHNlbGVjdG9yc1xyXG52YXIgbGFzdElkLFxyXG4gICAgdG9wTWVudSA9ICQoXCIjbWFpbi1uYXZcIiksXHJcbiAgICB0b3BNZW51SGVpZ2h0ID0gdG9wTWVudS5vdXRlckhlaWdodCgpKzE1LFxyXG4gICAgLy8gQWxsIGxpc3QgaXRlbXNcclxuICAgIG1lbnVJdGVtcyA9IHRvcE1lbnUuZmluZChcImFcIiksXHJcbiAgICAvLyBBbmNob3JzIGNvcnJlc3BvbmRpbmcgdG8gbWVudSBpdGVtc1xyXG4gICAgc2Nyb2xsSXRlbXMgPSBtZW51SXRlbXMubWFwKGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBpdGVtID0gJCgkKHRoaXMpLmF0dHIoXCJocmVmXCIpKTtcclxuICAgICAgaWYgKGl0ZW0ubGVuZ3RoKSB7IHJldHVybiBpdGVtOyB9XHJcbiAgICB9KTtcclxuXHJcbi8vIEJpbmQgY2xpY2sgaGFuZGxlciB0byBtZW51IGl0ZW1zXHJcbi8vIHNvIHdlIGNhbiBnZXQgYSBmYW5jeSBzY3JvbGwgYW5pbWF0aW9uXHJcbm1lbnVJdGVtcy5jbGljayhmdW5jdGlvbihlKXtcclxuICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cihcImhyZWZcIiksXHJcbiAgICAgIG9mZnNldFRvcCA9IGhyZWYgPT09IFwiI1wiID8gMCA6ICQoaHJlZikub2Zmc2V0KCkudG9wLXRvcE1lbnVIZWlnaHQrMTtcclxuICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoeyBcclxuICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3BcclxuICB9LCAzMDApO1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxufSk7XHJcblxyXG4vLyBCaW5kIHRvIHNjcm9sbFxyXG4kKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgIC8vIEdldCBjb250YWluZXIgc2Nyb2xsIHBvc2l0aW9uXHJcbiAgIHZhciBmcm9tVG9wID0gJCh0aGlzKS5zY3JvbGxUb3AoKSt0b3BNZW51SGVpZ2h0O1xyXG4gICBcclxuICAgLy8gR2V0IGlkIG9mIGN1cnJlbnQgc2Nyb2xsIGl0ZW1cclxuICAgdmFyIGN1ciA9IHNjcm9sbEl0ZW1zLm1hcChmdW5jdGlvbigpe1xyXG4gICAgIGlmICgkKHRoaXMpLm9mZnNldCgpLnRvcCA8IGZyb21Ub3ApXHJcbiAgICAgICByZXR1cm4gdGhpcztcclxuICAgfSk7XHJcbiAgIC8vIEdldCB0aGUgaWQgb2YgdGhlIGN1cnJlbnQgZWxlbWVudFxyXG4gICBjdXIgPSBjdXJbY3VyLmxlbmd0aC0xXTtcclxuICAgdmFyIGlkID0gY3VyICYmIGN1ci5sZW5ndGggPyBjdXJbMF0uaWQgOiBcIlwiO1xyXG4gICBcclxuICAgaWYgKGxhc3RJZCAhPT0gaWQpIHtcclxuICAgICAgIGxhc3RJZCA9IGlkO1xyXG4gICAgICAgLy8gU2V0L3JlbW92ZSBhY3RpdmUgY2xhc3NcclxuICAgICAgIG1lbnVJdGVtc1xyXG4gICAgICAgICAucGFyZW50KCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcclxuICAgICAgICAgLmVuZCgpLmZpbHRlcihcIltocmVmPScjXCIraWQrXCInXVwiKS5wYXJlbnQoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgfSAgICAgICAgICAgICAgICAgICBcclxufSk7IiwiKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgLy8gdGhlIHNhbWVIZWlnaHQgZnVuY3Rpb25zIG1ha2VzIGFsbCB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgb2YgdGhlIHNhbWUgaGVpZ2h0XHJcbiAgICAkLmZuLnNhbWVIZWlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZWN0b3IgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoZWlnaHRzID0gW107XHJcblxyXG4gICAgICAgIC8vIFNhdmUgdGhlIGhlaWdodHMgb2YgZXZlcnkgZWxlbWVudCBpbnRvIGFuIGFycmF5XHJcbiAgICAgICAgc2VsZWN0b3IuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgaGVpZ2h0cy5wdXNoKGhlaWdodCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgYmlnZ2VzdCBoZWlnaHRcclxuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5tYXguYXBwbHkobnVsbCwgaGVpZ2h0cyk7XHJcbiAgICAgICAgLy8gU2hvdyBpbiB0aGUgY29uc29sZSB0byB2ZXJpZnlcclxuICAgICAgICBjb25zb2xlLmxvZyhoZWlnaHRzLG1heEhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgbWF4SGVpZ2h0IHRvIGV2ZXJ5IHNlbGVjdGVkIGVsZW1lbnRcclxuICAgICAgICBzZWxlY3Rvci5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykuaGVpZ2h0KG1heEhlaWdodCk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgfTtcclxuIFxyXG59KCBqUXVlcnkgKSk7IiwiJCgnc2VsZWN0JykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKSwgbnVtYmVyT2ZPcHRpb25zID0gJCh0aGlzKS5jaGlsZHJlbignb3B0aW9uJykubGVuZ3RoO1xyXG4gIFxyXG4gICAgJHRoaXMuYWRkQ2xhc3MoJ3NlbGVjdC1oaWRkZW4nKTsgXHJcbiAgICAkdGhpcy53cmFwKCc8ZGl2IGNsYXNzPVwic2VsZWN0XCI+PC9kaXY+Jyk7XHJcbiAgICAkdGhpcy5hZnRlcignPGRpdiBjbGFzcz1cInNlbGVjdC1zdHlsZWRcIj48L2Rpdj4nKTtcclxuXHJcbiAgICB2YXIgJHN0eWxlZFNlbGVjdCA9ICR0aGlzLm5leHQoJ2Rpdi5zZWxlY3Qtc3R5bGVkJyk7XHJcbiAgICAkc3R5bGVkU2VsZWN0LnRleHQoJHRoaXMuY2hpbGRyZW4oJ29wdGlvbicpLmVxKDApLnRleHQoKSk7XHJcbiAgXHJcbiAgICB2YXIgJGxpc3QgPSAkKCc8dWwgLz4nLCB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ3NlbGVjdC1vcHRpb25zJ1xyXG4gICAgfSkuaW5zZXJ0QWZ0ZXIoJHN0eWxlZFNlbGVjdCk7XHJcbiAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mT3B0aW9uczsgaSsrKSB7XHJcbiAgICAgICAgJCgnPGxpIC8+Jywge1xyXG4gICAgICAgICAgICB0ZXh0OiAkdGhpcy5jaGlsZHJlbignb3B0aW9uJykuZXEoaSkudGV4dCgpLFxyXG4gICAgICAgICAgICByZWw6ICR0aGlzLmNoaWxkcmVuKCdvcHRpb24nKS5lcShpKS52YWwoKVxyXG4gICAgICAgIH0pLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgIH1cclxuICBcclxuICAgIHZhciAkbGlzdEl0ZW1zID0gJGxpc3QuY2hpbGRyZW4oJ2xpJyk7XHJcbiAgXHJcbiAgICAkc3R5bGVkU2VsZWN0LmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICQoJ2Rpdi5zZWxlY3Qtc3R5bGVkLmFjdGl2ZScpLm5vdCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoJ3VsLnNlbGVjdC1vcHRpb25zJykuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoJ3VsLnNlbGVjdC1vcHRpb25zJykudG9nZ2xlKCk7XHJcbiAgICB9KTtcclxuICBcclxuICAgICRsaXN0SXRlbXMuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgJHN0eWxlZFNlbGVjdC50ZXh0KCQodGhpcykudGV4dCgpKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJHRoaXMudmFsKCQodGhpcykuYXR0cigncmVsJykpO1xyXG4gICAgICAgICRsaXN0LmhpZGUoKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCR0aGlzLnZhbCgpKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHN0eWxlZFNlbGVjdC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJGxpc3QuaGlkZSgpO1xyXG4gICAgfSk7XHJcblxyXG59KTsiXX0=
